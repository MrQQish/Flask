<!-- https://freefrontend.com/bootstrap-menus/ -->
<!-- https://codepen.io/santanup789/pen/bGpVEEr -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
 <head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <title>Flask Parent Template</title>

  <!-- scripts -->
  <!-- BOOTSTRAP -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

  <!-- REACT -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>

  <!-- JQUERY -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

   <!-- Bootstrap CSS -->
  
   <link rel="stylesheet" href="{{ url_for('static',     filename='css/template.css') }}">
 </head>
 
 <body>
  
  <script>

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}


async function cycleState() {
    while (true) {
         $.ajax({
        method: 'GET',
        url:'http://localhost:5555/api/workers',
        processData: false,  // tell jQuery not to process the data
        contentType: false,   // tell jQuery not to set contentType
        success:function(response)
        {

            $.ajax({
                method: 'POST',
                url:'http://localhost:5000/get_workers',
                data: response
            });

            console.log(response);

        }
        });
        
        await sleep(25000);
    }
}

    window.onload=function(){
        
        cycleState();
        $.ajax({
        method: 'POST',
        url:'http://localhost:5000/loadState',
        processData: false,  // tell jQuery not to process the data
        contentType: false,   // tell jQuery not to set contentType
        success:function(response)
        {
            console.log(response)
        }
        });




        document.querySelector(".circle").addEventListener("click", () => {
            for (let i = 0; i <= 3; i++) {
            document
                .getElementsByClassName("nav-items")
                [i].classList.remove("show-menu");
            document
                .getElementsByClassName("box-line")
                [i].classList.remove("box-line-show");
            }
            document.querySelector(".box").classList.remove("box-show");
            document.querySelector(".add").classList.toggle("go");
            document.querySelector(".search").classList.toggle("search-focus");
            document.querySelector(".search").focus();
            document.querySelector(".circle").classList.toggle("color");
            document.querySelector(".line1").classList.toggle("move");
            document.querySelector(".line2").classList.toggle("mov");
            document.querySelector(".effect").classList.toggle("big");
        });
        /* menu */
        document.querySelector(".menu").addEventListener("click", () => {
            for (let i = 0; i <= 3; i++) {
            document.querySelector(".box").classList.remove("box-show");
            document
                .getElementsByClassName("nav-items")
                [i].classList.toggle("show-menu");
            document
                .getElementsByClassName("box-line")
                [i].classList.remove("box-line-show");
            }
        });
        /* box */
        document.querySelector(".gallery").addEventListener("click", () => {
            document.querySelector(".box").classList.toggle("box-show");
            for (let i = 0; i <= 3; i++) {
            document
                .getElementsByClassName("box-line")
                [i].classList.toggle("box-line-show");
            document
                .getElementsByClassName("nav-items")
                [i].classList.remove("show-menu");
            }
        });
    }
  </script>

  <header>
    <div class="wrapper">
        <div class="item menu">
            <div class="linee linee1"></div>
            <div class="linee linee2"></div>
            <div class="linee linee3"></div>
        </div>
        <div class="item gallery">
            <div class="dot dot1"></div>
            <div class="dot dot2"></div>
            <div class="dot dot3"></div>
            <div class="dot dot4"></div>
            <div class="dot dot5"></div>
            <div class="dot dot6"></div>
        </div>
        <button class="item add">
            <div class="circle">
            <div class="close">
            <div class="line line1"></div>
            <div class="line line2"></div>
            </div>
            </div>
            <input type="search" placeholder="search" class="search" />
            
        </button>
    

        <div class="nav-items items1">
            <i class="fas fa-home"><a class="bubble_link" >  </a></i>
        </div>
        <div class="nav-items items2">
            <i class="fas fa-camera"> <a class="bubble_link" >  </a></i>
        </div>
        <div class="nav-items items3">
            <i class="fas fa-folder"><a class="bubble_link" >  </a></i>
        </div>
        <div class="nav-items items4">
            <i class="fas fa-heart"><a class="bubble_link" >  </a></i>
        </div>
        <div class="box">
            <div class="box-line box-line1"><a class="bubble_link" >  </a></div>
            <div class="box-line box-line2"></div>
            <div class="box-line box-line3"></div>
            <div class="box-line box-line4"></div>
        </div>
    </div>
    
    <div class="effect"></div>

    
  {{ turbo() }}

  </header>
    
    {% block content %}
    {% endblock %}
    

 </body>
</html>
<!-- goal no 1 get a run on a container complete -->